@startuml

actor ユーザ as u

box "撮影画面" #LightGreen
participant CameraPreview as cp
cp -> cp :画面の作成
u -> cp:撮影画面(図5.(a))の呼び出し
end box



box "特徴を記録する画面" #LightBlue
participant AnnotationActiviy as main
participant AnnotationListadapter as adapter
participant GetItemlist as get
database Android内データベース as db
end box


==　図5.(b)の画面の作成開始 ==

cp -> main:特徴を記録する画面(図5.(b))の呼び出し


group AnnotationActivity


main -> main :画面の作成
main -> adapter : リストの作成を命令
note left :

group AnnotationListAdapter
adapter -> adapter :リストの枠組みを作成する

adapter -> get :リストの各項目の作成を命令




group GetItemList
get -> get :リストの各項目を作成
note left :リストの各項目は植物の特徴とチェックボックスを保持する
get --> adapter : リストの各項目を返す
end

adapter --> main:　リストを返す




end
main ->main: チェックボックスを持つリストを画面に表示する



end
==　画面の作成終了==
...
...


== ユーザによる観察した特徴の記録 ==
u -> main:リストをチェックする
group AnnotationActivity
main -> db:チェックの入った項目の特徴を一時的に保存
end

main --> cp :撮影画面に戻る
note left : ユーザがAndroid端末の戻るボタンをタップすることで戻る
==特徴の記録の終了==
...
...
== 観察結果の送信 ==

u  -> cp :植物の撮影
box "サーバ"

database サーバ側のデータベース as db2

endbox
cp -> db2:撮影した画像と位置情報に加えて、特徴をサーバへ送信





@enduml